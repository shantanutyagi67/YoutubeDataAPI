{"files":[{"id":"a34c3e15-5e5f-4344-aac2-8c5d20199d7d","name":"Code","type":"server_js","source":"const updateYouTubeVideo \u003d (e \u003d null) \u003d\u003e {\n  // Any channel Id\n  const id \u003d \"MrBeast6000\";\n  // which subscriber do you want to be\n  // For Mr Beast put 50000000\n  const subs \u003d 50000000;\n  \n  // The cron job is created only when the script is run manually\n  if (e \u003d\u003d\u003d null) {\n    const triggerName \u003d \"updateYouTubeVideo\";\n    const triggers \u003d ScriptApp.getProjectTriggers().filter((trigger) \u003d\u003e {\n      return trigger.getHandlerFunction() \u003d\u003d\u003d triggerName;\n    });\n    // If time based trigger doesn\u0027t exist, create one that runs every 1 minute\n    if (triggers.length \u003d\u003d\u003d 0) {\n      ScriptApp.newTrigger(triggerName).timeBased().everyMinutes(1).create();\n    }\n  }\n  \n  // Get the subscription statistics of the video\n  const { items: [video \u003d {}] \u003d [] } \u003d YouTube.Channels.list(\n    \"statistics\",\n    {\n      id\n    }\n  );\n      \n  // Now we parse video to get desired subscriber count\n  const {\n    statistics: { subscriberCount:subscriberCount } \u003d {}\n  } \u003d video;\n  \n  if ( subscriberCount \u003d\u003d subs-1 ){\n    Logger.log(\"i will subscribe now!\");\n    YouTube.Subscriptions.insert(\n      {\n        \"snippet\": {\n          \"resourceId\": {\n            \"kind\": \"youtube#channel\",\n            \"channelId\": \"MrBeast6000\"\n          }\n        }\n      },\n      \"snippet\"\n    );\n  };\n};"},{"id":"666fc08f-bb3e-4799-a0e9-76227a0942d5","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"Asia/Kolkata\",\n  \"dependencies\": {\n    \"enabledAdvancedServices\": [{\n      \"userSymbol\": \"YouTube\",\n      \"serviceId\": \"youtube\",\n      \"version\": \"v3\"\n    }]\n  },\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\"\n}"}]}